<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Trái Tim Vĩ Mô - For You</title>
    <style>
        /* Toàn bộ giao diện */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: #000; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }

        canvas {
            position: absolute;
            top: 0; left: 0;
            filter: drop-shadow(0 0 15px #ff1493);
        }

        /* Nút bấm thiết kế hiện đại */
        #loveButton {
            position: relative;
            z-index: 100;
            padding: 20px 60px;
            font-size: 28px;
            font-weight: bold;
            color: white;
            background: rgba(255, 20, 147, 0.2);
            border: 2px solid #ff1493;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px #ff1493;
            transition: all 0.4s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #loveButton:hover {
            background: #ff1493;
            transform: scale(1.1);
            box-shadow: 0 0 50px #ff1493;
        }

        .hidden { display: none !important; }

        /* Lời nhắn hiện ra sau cùng */
        #message {
            position: absolute;
            bottom: 12%;
            color: #fff;
            font-family: 'Arial', sans-serif;
            font-size: 35px;
            text-shadow: 0 0 10px #ff1493, 0 0 30px #ff1493;
            opacity: 0;
            transition: opacity 3s;
            z-index: 10;
        }
    </style>
</head>
<body>

    <button id="loveButton">Yêu Em ❤️</button>
    <canvas id="heartCanvas"></canvas>
    <div id="message">ANH YÊU EM RẤT NHIỀU! ✨</div>

    <script>
        var canvas = document.getElementById('heartCanvas');
        var ctx = canvas.getContext('2d');
        var btn = document.getElementById('loveButton');
        var msg = document.getElementById('message');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        var particles = [];
        var particleCount = 2000; 
        var isStarted = false;

        // Công thức tạo hình trái tim vĩ mô
        function getHeartPoint(t) {
            var scale = 18; // Kích thước siêu to
            var x = 16 * Math.pow(Math.sin(t), 3);
            var y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            return { x: x * scale, y: y * scale };
        }

        function Particle() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.tx = this.x;
            this.ty = this.y;
            this.size = Math.random() * 2.5 + 0.5;
            this.color = 'hsla(' + (Math.random() * 30 + 330) + ', 100%, 75%, ' + Math.random() + ')';
            this.speed = Math.random() * 0.03 + 0.015;
        }

        Particle.prototype.update = function() {
            if (isStarted) {
                // Nhịp đập trái tim
                var pulse = 1 + Math.sin(Date.now() * 0.003) * 0.06;
                var finalTx = (this.tx - canvas.width/2) * pulse + canvas.width/2;
                var finalTy = (this.ty - canvas.height/2) * pulse + canvas.height/2;
                
                this.x += (finalTx - this.x) * this.speed;
                this.y += (finalTy - this.y) * this.speed;
            }
        };

        Particle.prototype.draw = function() {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        };

        function init() {
            for (var i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
        }

        function animate() {
            // Tạo hiệu ứng mờ ảo phía sau hạt
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (var i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
            requestAnimationFrame(animate);
        }

        btn.onclick = function() {
            btn.classList.add('hidden');
            msg.style.opacity = '1';
            isStarted = true;

            for (var i = 0; i < particleCount; i++) {
                var t = Math.random() * Math.PI * 2;
                var p = getHeartPoint(t);
                particles[i].tx = p.x + canvas.width / 2;
                particles[i].ty = p.y + canvas.height / 2;
            }
        };

        window.onresize = function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        };

        init();
        animate();
    </script>
</body>
</html>